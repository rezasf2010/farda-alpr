@import 'tailwindcss';

@theme {
  --color-navy: var(--app-background);
  --color-panel: var(--app-surface);
}

:root {
  --app-background: #0d1b2a;
  --app-surface: #0b2545;
  --app-surface-muted: #10315a;
  --app-text-primary: #f8fafc;
  --app-text-secondary: #cbd5f5;
  --app-text-muted: #94a3b8;
  --app-border: rgba(148, 163, 184, 0.22);
  --app-border-strong: rgba(148, 163, 184, 0.35);
  --app-shadow: 0 18px 40px rgba(5, 20, 45, 0.45);
  --app-shadow-strong: 0 22px 48px rgba(5, 20, 45, 0.6);
  --app-card-gradient-from: rgba(15, 44, 79, 0.85);
  --app-card-gradient-to: rgba(29, 78, 216, 0.25);
  --app-chip-bg: rgba(148, 163, 184, 0.16);
  --app-chip-text: #e2e8f0;
  --btn-success-bg: rgba(16, 185, 129, 0.12);
  --btn-success-bg-hover: rgba(16, 185, 129, 0.22);
  --btn-success-border: rgba(16, 185, 129, 0.45);
  --btn-success-border-hover: rgba(16, 185, 129, 0.6);
  --btn-success-color: #bbf7d0;

  --btn-primary-bg: rgba(79, 70, 229, 0.16);
  --btn-primary-bg-hover: rgba(79, 70, 229, 0.28);
  --btn-primary-border: rgba(79, 70, 229, 0.45);
  --btn-primary-border-hover: rgba(79, 70, 229, 0.6);
  --btn-primary-color: #e0e7ff;

  --btn-info-bg: rgba(14, 165, 233, 0.14);
  --btn-info-bg-hover: rgba(14, 165, 233, 0.24);
  --btn-info-border: rgba(14, 165, 233, 0.42);
  --btn-info-border-hover: rgba(14, 165, 233, 0.58);
  --btn-info-color: #bae6fd;

  --btn-danger-bg: rgba(244, 63, 94, 0.15);
  --btn-danger-bg-hover: rgba(244, 63, 94, 0.26);
  --btn-danger-border: rgba(244, 63, 94, 0.42);
  --btn-danger-border-hover: rgba(244, 63, 94, 0.58);
  --btn-danger-color: #fecdd3;

  --chip-status-active-bg: rgba(16, 185, 129, 0.18);
  --chip-status-active-border: rgba(16, 185, 129, 0.38);
  --chip-status-active-text: #bbf7d0;
  --chip-status-active-dot: #34d399;
  --chip-status-inactive-bg: rgba(244, 63, 94, 0.2);
  --chip-status-inactive-border: rgba(244, 63, 94, 0.4);
  --chip-status-inactive-text: #fecdd3;
  --chip-status-inactive-dot: #fb7185;
  --chip-status-maintenance-bg: rgba(250, 204, 21, 0.22);
  --chip-status-maintenance-border: rgba(250, 204, 21, 0.44);
  --chip-status-maintenance-text: #fde68a;
  --chip-status-maintenance-dot: #facc15;
}

/* ===== Base (safe defaults) ===== */
@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
    background-color: var(--app-background);
  }

  body {
    overflow-x: hidden;
    min-height: 100vh;
    color: var(--app-text-primary);
    background-color: var(--app-background);
  }

  button {
    @apply cursor-pointer;
  }

  /*IRANSansX only to Persian/RTL content to avoid side-effects elsewhere */
  :lang(fa),
  :lang(fa-IR),
  [dir='rtl'] {
    font-family:
      'IRANSansXVF',
      'IRANSansX',
      Tahoma,
      system-ui,
      -apple-system,
      'Segoe UI',
      Roboto,
      'Helvetica Neue',
      Arial,
      'Noto Sans Arabic',
      'Noto Naskh Arabic',
      sans-serif;

    -webkit-font-feature-settings: 'ss02', 'ss03', 'ss04';
    font-feature-settings: 'ss02', 'ss03', 'ss04';
  }
}

/* ===== Fonts ===== */
/* Variable font (preferred when supported) */
@font-face {
  font-family: 'IRANSansXVF';
  src:
    local('IRANSansXVF'),
    url('/fonts/IRANSansXV.woff2') format('woff2-variations'),
    url('/fonts/IRANSansXV.woff') format('woff');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
  /* Arabic + Persian digits + basic punctuation */
  unicode-range:
    U+0600-06FF,
    U+0750-077F,
    U+08A0-08FF,
    /* Arabic ranges */ U+FB50-FDFF,
    U+FE70-FEFF,
    /* Arabic Presentation Forms */ U+0660-0669,
    U+06F0-06F9,
    /* Arabic & Persian digits */ U+200C-200F,
    U+061F,
    U+060C,
    U+061B; /* ZWNJ & punctuation */
}

/* Static regular (fallback) */
@font-face {
  font-family: 'IRANSansX';
  src:
    local('IRANSansX'),
    url('/fonts/IRANSansX-Regular.woff2') format('woff2'),
    url('/fonts/IRANSansX-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
  unicode-range:
    U+0600-06FF, U+0750-077F, U+08A0-08FF, U+FB50-FDFF, U+FE70-FEFF, U+0660-0669, U+06F0-06F9,
    U+200C-200F, U+061F, U+060C, U+061B;
}

/* Static bold (fallback) */
@font-face {
  font-family: 'IRANSansX';
  src:
    local('IRANSansX Bold'),
    url('/fonts/IRANSansX-Bold.woff2') format('woff2'),
    url('/fonts/IRANSansX-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
  unicode-range:
    U+0600-06FF, U+0750-077F, U+08A0-08FF, U+FB50-FDFF, U+FE70-FEFF, U+0660-0669, U+06F0-06F9,
    U+200C-200F, U+061F, U+060C, U+061B;
}

/* ===== Optional utilities you already used ===== */
@layer utilities {
  .ss02 {
    -webkit-font-feature-settings: 'ss02';
    font-feature-settings: 'ss02';
  }
  .ss03 {
    -webkit-font-feature-settings: 'ss03';
    font-feature-settings: 'ss03';
  }
  .ss04 {
    -webkit-font-feature-settings: 'ss04';
    font-feature-settings: 'ss04';
  }

  /* Number input spinner removal (scoped, no global side-effects) */
  .input-number::-webkit-outer-spin-button,
  .input-number::-webkit-inner-spin-button {
    -webkit-appearance: none; /* Chromium/WebKit */
    margin: 0;
  }

  .bg-surface {
    background-color: var(--app-surface);
  }

  .bg-surface-muted {
    background-color: var(--app-surface-muted);
  }

  .text-primary {
    color: var(--app-text-primary);
  }

  .text-secondary {
    color: var(--app-text-secondary);
  }

  .text-muted {
    color: var(--app-text-muted);
  }

  .border-soft {
    border-color: var(--app-border);
  }

  .border-strong {
    border-color: var(--app-border-strong);
  }

  .shadow-app {
    box-shadow: var(--app-shadow);
  }

  .hover\:shadow-app-strong:hover {
    box-shadow: var(--app-shadow-strong);
  }

  .hover\:border-strong:hover {
    border-color: var(--app-border-strong);
  }

  .card-gradient {
    background: linear-gradient(145deg, var(--app-card-gradient-from), var(--app-card-gradient-to));
  }

  .chip-soft {
    background-color: var(--app-chip-bg);
    color: var(--app-chip-text);
    border: 1px solid var(--app-border);
  }

  .focus\:ring-offset-app:focus {
    --tw-ring-offset-color: var(--app-background);
  }

  .btn-tonal-success {
    border-width: 1px;
    border-style: solid;
    background-color: var(--btn-success-bg);
    border-color: var(--btn-success-border);
    color: var(--btn-success-color);
  }
  .btn-tonal-success:hover {
    background-color: var(--btn-success-bg-hover);
    border-color: var(--btn-success-border-hover);
  }

  .btn-tonal-primary {
    border-width: 1px;
    border-style: solid;
    background-color: var(--btn-primary-bg);
    border-color: var(--btn-primary-border);
    color: var(--btn-primary-color);
  }
  .btn-tonal-primary:hover {
    background-color: var(--btn-primary-bg-hover);
    border-color: var(--btn-primary-border-hover);
  }

  .btn-tonal-info {
    border-width: 1px;
    border-style: solid;
    background-color: var(--btn-info-bg);
    border-color: var(--btn-info-border);
    color: var(--btn-info-color);
  }
  .btn-tonal-info:hover {
    background-color: var(--btn-info-bg-hover);
    border-color: var(--btn-info-border-hover);
  }

  .btn-tonal-danger {
    border-width: 1px;
    border-style: solid;
    background-color: var(--btn-danger-bg);
    border-color: var(--btn-danger-border);
    color: var(--btn-danger-color);
  }
  .btn-tonal-danger:hover {
    background-color: var(--btn-danger-bg-hover);
    border-color: var(--btn-danger-border-hover);
  }

  .status-chip {
    border-width: 1px;
    border-style: solid;
  }

  .status-chip-active {
    background-color: var(--chip-status-active-bg);
    border-color: var(--chip-status-active-border);
    color: var(--chip-status-active-text);
  }

  .status-chip-inactive {
    background-color: var(--chip-status-inactive-bg);
    border-color: var(--chip-status-inactive-border);
    color: var(--chip-status-inactive-text);
  }

  .status-chip-maintenance {
    background-color: var(--chip-status-maintenance-bg);
    border-color: var(--chip-status-maintenance-border);
    color: var(--chip-status-maintenance-text);
  }

  .status-chip-dot {
    display: inline-block;
  }

  .status-chip-dot-active {
    background-color: var(--chip-status-active-dot);
  }

  .status-chip-dot-inactive {
    background-color: var(--chip-status-inactive-dot);
  }

  .status-chip-dot-maintenance {
    background-color: var(--chip-status-maintenance-dot);
  }
}
